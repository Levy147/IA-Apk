{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 col-lg-2 sidebar text-white p-4">
            <h4 class="mb-4">
                <i class="fas fa-user-graduate me-2"></i>
                {{ current_user.get_full_name() }}
            </h4>
            <div class="mb-4">
                <h6>Curso</h6>
                <div>{{ course.name }}</div>
                <small class="text-muted">{{ course.code }}</small>
            </div>
            <div class="mb-4">
                <h6>Instrucciones</h6>
                <ul class="list-unstyled small">
                    <li><i class="fas fa-check me-2"></i>Responde todas las preguntas</li>
                    <li><i class="fas fa-check me-2"></i>Envía el formulario al finalizar</li>
                    <li><i class="fas fa-check me-2"></i>Regresa aquí si necesitas reintentar</li>
                </ul>
            </div>
            <a href="{{ url_for('student.course_detail', course_id=course.id) }}" class="btn btn-sm btn-outline-light">
                <i class="fas fa-arrow-left me-1"></i>Volver al curso
            </a>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 col-lg-10 main-content p-4">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>
                    <i class="fas fa-clipboard-list me-2"></i>Examen Diagnóstico (Google Forms)
                </h2>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">{{ course.name }}</h5>
                    <small class="text-muted">Completa el formulario embebido</small>
                </div>
                <div class="card-body">
                    <div class="embed-responsive embed-responsive-16by9">
                        <iframe 
                            src="{{ form_url }}?embedded=true" 
                            width="100%" 
                            height="900" 
                            frameborder="0" 
                            marginheight="0" 
                            marginwidth="0"
                            class="embed-responsive-item">
                            Cargando formulario...
                        </iframe>
                    </div>
                    <div class="mt-3 alert alert-info">
                        Al enviar el formulario, vuelve al curso y presiona "Continuar Examen" si es necesario completar pasos adicionales.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


